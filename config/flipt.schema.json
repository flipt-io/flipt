{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$ref": "#/definitions/FliptConfig",
  "definitions": {
    "FliptConfig": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "log": {
          "$ref": "#/definitions/Log"
        },
        "ui": {
          "$ref": "#/definitions/UI"
        },
        "cors": {
          "$ref": "#/definitions/Cors"
        },
        "cache": {
          "$ref": "#/definitions/Cache"
        },
        "server": {
          "$ref": "#/definitions/Server"
        },
        "db": {
          "$ref": "#/definitions/DB"
        },
        "tracing": {
          "$ref": "#/definitions/Tracing"
        },
        "meta": {
          "$ref": "#/definitions/Meta"
        }
      },
      "required": [],
      "title": "FliptConfig"
    },
    "Cache": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "backend": {
          "type": "string",
          "enum": ["memory", "redis"]
        },
        "ttl": {
          "type": "string"
        },
        "redis": {
          "$ref": "#/definitions/Redis"
        },
        "memory": {
          "$ref": "#/definitions/Memory"
        }
      },
      "required": [],
      "title": "Cache"
    },
    "Memory": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "eviction_interval": {
          "type": "string"
        }
      },
      "required": [],
      "title": "Memory"
    },
    "Redis": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "host": {
          "type": "string"
        },
        "port": {
          "type": "integer"
        },
        "db": {
          "type": "integer"
        },
        "password": {
          "type": "string"
        }
      },
      "required": [],
      "title": "Redis"
    },
    "Cors": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "allowed_origins": {
          "type": "string"
        }
      },
      "required": [],
      "title": "Cors"
    },
    "DB": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "url": {
          "type": "string"
        },
        "protocol": {
          "type": "string",
          "enum": ["sqlite", "cockroachdb", "postgres", "mysql"]
        },
        "host": {
          "type": "string"
        },
        "port": {
          "type": "integer"
        },
        "name": {
          "type": "string"
        },
        "user": {
          "type": "string"
        },
        "password": {
          "type": "string"
        },
        "max_idle_conn": {
          "type": "integer"
        },
        "max_open_conn": {
          "type": "integer"
        },
        "conn_max_lifetime": {
          "type": "integer"
        },
        "migrations_path": {
          "type": "string"
        }
      },
      "required": [],
      "title": "DB"
    },
    "Log": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "level": {
          "type": "string",
          "enum": ["trace", "debug", "info", "warn", "error", "fatal", "panic"]
        },
        "file": {
          "type": "string"
        },
        "encoding": {
          "type": "string",
          "enum": ["json", "console"]
        },
        "grpc_level": {
          "type": "string",
          "enum": ["trace", "debug", "info", "warn", "error", "fatal", "panic"]
        }
      },
      "required": [],
      "title": "Log"
    },
    "Meta": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "check_for_updates": {
          "type": "boolean"
        },
        "telemetry_enabled": {
          "type": "boolean"
        },
        "state_directory": {
          "type": "string"
        }
      },
      "required": [],
      "title": "Meta"
    },
    "Server": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "protocol": {
          "type": "string",
          "enum": ["http", "https"]
        },
        "host": {
          "type": "string"
        },
        "https_port": {
          "type": "integer"
        },
        "http_port": {
          "type": "integer"
        },
        "grpc_port": {
          "type": "integer"
        },
        "cert_file": {
          "type": "string"
        },
        "cert_key": {
          "type": "string"
        }
      },
      "required": [],
      "title": "Server"
    },
    "Tracing": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "jaeger": {
          "$ref": "#/definitions/Jaeger"
        }
      },
      "title": "Tracing"
    },
    "Jaeger": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "host": {
          "type": "string"
        },
        "port": {
          "type": "integer"
        }
      },
      "title": "Jaeger"
    },
    "UI": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "enabled": {
          "type": "boolean"
        }
      },
      "title": "UI"
    }
  }
}
