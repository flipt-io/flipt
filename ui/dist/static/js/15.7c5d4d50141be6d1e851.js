(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{JHok:function(t,e,s){"use strict";s.r(e);var n=s("dCQc"),a={name:"Segments",mixins:[s("wjWc").a],data:function(){return{search:"",segments:[]}},computed:{filteredSegments:function(){var t=this;return this.segments.filter(function(e){return e.name.toLowerCase().match(t.search.toLowerCase())})}},mounted:function(){this.getSegments()},methods:{getSegments:function(){var t=this;n.a.get("/segments").then(function(e){t.segments=e.data.segments?e.data.segments:[]}).catch(function(e){t.notifyError("Error loading segments."),console.error(e)})}}},o=s("JFUb"),i=Object(o.a)(a,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"section"},[s("div",{staticClass:"container"},[s("div",{staticClass:"level"},[s("div",{staticClass:"level-left"},[s("div",{staticClass:"level-item"},[t.segments.length>5?s("div",{staticClass:"field has-addons"},[s("p",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"input",attrs:{type:"text",placeholder:"Find a Segment"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),t._v(" "),t._m(0)]):t._e()])]),t._v(" "),s("div",{staticClass:"level-right"},[s("div",{staticClass:"level-item"},[s("RouterLink",{staticClass:"button is-primary",attrs:{to:{name:"new-segment"}}},[t._v("New Segment")])],1)])]),t._v(" "),s("BTable",{attrs:{data:t.filteredSegments},scopedSlots:t._u([{key:"default",fn:function(e){return[s("BTableColumn",{attrs:{field:"key",label:"Key",sortable:""}},[s("RouterLink",{attrs:{to:{name:"segment",params:{key:e.row.key}}}},[t._v("\n            "+t._s(e.row.key)+"\n          ")])],1),t._v(" "),s("BTableColumn",{attrs:{field:"name",label:"Name",sortable:""}},[s("RouterLink",{attrs:{to:{name:"segment",params:{key:e.row.key}}}},[t._v("\n            "+t._s(e.row.name)+"\n          ")])],1),t._v(" "),s("BTableColumn",{attrs:{field:"description",label:"Description"}},[s("small",[t._v(t._s(e.row.description))])]),t._v(" "),s("BTableColumn",{attrs:{field:"createdAt",label:"Created",sortable:""}},[s("small",[t._v(t._s(t._f("moment")(e.row.createdAt,"from","now")))])]),t._v(" "),s("BTableColumn",{attrs:{field:"updatedAt",label:"Updated",sortable:""}},[s("small",[t._v(t._s(t._f("moment")(e.row.updatedAt,"from","now")))])])]}}])},[t._v(" "),s("template",{slot:"empty"},[s("section",{staticClass:"section"},[s("div",{staticClass:"content has-text-grey has-text-centered"},[s("p",[t._v("\n              No segments found. Create a\n              "),s("RouterLink",{attrs:{to:{name:"new-segment"}}},[t._v("New Segment")]),t._v(".\n            ")],1)])])])],2)],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"control"},[e("button",{staticClass:"button"},[this._v("Search")])])}],!1,null,null,null);e.default=i.exports},dCQc:function(t,e,s){"use strict";s.d(e,"a",function(){return a});var n=s("vDqi"),a=s.n(n).a.create({baseURL:"//"+window.location.host+"/api/v1/"})},wjWc:function(t,e,s){"use strict";e.a={methods:{notifySuccess:function(t){this.$toast.open({type:"is-primary",position:"is-bottom",message:t})},notifyError:function(t){this.$toast.open({type:"is-danger",position:"is-bottom",message:t,duration:3e3})}}}}}]);
//# sourceMappingURL=15.7c5d4d50141be6d1e851.js.map